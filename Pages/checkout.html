<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }
        .container {
            display: flex;
            justify-content: space-between;
            margin: 50px auto;
            width: 80%;
        }
        .form-container {
            width: 48%;
        }
        .summary-container {
            width: 48%;
        }
        .form-section {
            margin-bottom: 30px;
        }
        .form-section h3 {
            margin-bottom: 15px;
        }
        .form-section input, .form-section select {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .summary-container {
            padding-left: 20px;
        }
        .summary-container p {
            margin: 10px 0;
        }
        .summary-container .horizontal-line {
            border-top: 1px solid #ccc;
            margin: 20px 0;
        }
        .place-order-btn {
            background-color: #D5956E;
            color: white;
            padding: 15px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            width: 100%;
        }
        .place-order-btn:hover {
            background-color: #45a049;
        }

        .save-btn {
            cursor: pointer;
            background-color: #77543e;
            color: white;
            border: none;
            padding: 8px;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="form-container">
            <h2>Checkout</h2>
            
            <div class="form-section">
                <h3>Shipping Address</h3>
                <select>
                    <option value="US">United States</option>
                    <option value="CA">Canada</option>
                </select>
                <input type="text" placeholder="Full Name" required>
                <input type="text" placeholder="Phone Number" required>
                <input type="text" placeholder="Address Line 1" required>
                <input type="text" placeholder="Address Line 2">
                <input type="text" placeholder="City" required>
                <input type="text" placeholder="State" required>
                <input type="text" placeholder="ZIP Code" required>
                <button class="save-btn" onclick="saveAddress()">Save Address</button>
            </div>

            <div class="form-section">
                <h3>Payment Details</h3>
                <input type="text" placeholder="Card Number" required>
                <input type="text" placeholder="Cardholder Name" required>
                <input type="text" placeholder="MM/YY" required>
                <input type="text" placeholder="CVV" required>
                <button class="save-btn" onclick="saveCard()">Save Card</button>
            </div>
        </div>

        <div class="summary-container">
            <h2>Order Summary</h2>
            <p><strong>Subtotal:</strong> $<span id="subtotal">0.00</span></p>
            <p><strong>Shipping and Handling:</strong> $<span id="shipping">9.99</span></p>
            <p><strong>Estimated Tax:</strong> $<span id="tax">0.00</span></p>
            <div class="horizontal-line"></div>
            <p><strong>Total:</strong> $<span id="total">0.00</span></p>
            <button class="place-order-btn" onclick="placeOrder()">Place Order</button>
        </div>
    </div>

    <script>
        function saveAddress() {
            const address = {
                country: document.querySelector("select").value,
                fullName: document.querySelector("input[placeholder='Full Name']").value,
                phoneNumber: document.querySelector("input[placeholder='Phone Number']").value,
                addressLine1: document.querySelector("input[placeholder='Address Line 1']").value,
                addressLine2: document.querySelector("input[placeholder='Address Line 2']").value,
                city: document.querySelector("input[placeholder='City']").value,
                state: document.querySelector("input[placeholder='State']").value,
                zipCode: document.querySelector("input[placeholder='ZIP Code']").value,
            };

            if (!address.fullName || !address.phoneNumber || !address.addressLine1 || !address.city || !address.state || !address.zipCode) {
                alert("Please fill in all required fields.");
                return;
            }

            localStorage.setItem("shippingAddress", JSON.stringify(address));
            alert("Address saved!");
        }

        function saveCard() {
            const cardDetails = {
                cardNumber: document.querySelector("input[placeholder='Card Number']").value,
                cardholderName: document.querySelector("input[placeholder='Cardholder Name']").value,
                expiryDate: document.querySelector("input[placeholder='MM/YY']").value,
                cvv: document.querySelector("input[placeholder='CVV']").value,
            };

            if (!cardDetails.cardNumber || !cardDetails.cardholderName || !cardDetails.expiryDate || !cardDetails.cvv) {
                alert("Please fill in all required fields.");
                return;
            }

            localStorage.setItem("paymentCard", JSON.stringify(cardDetails));
            alert("Card details saved!");
        }

        function calculateSummary() {
            const cart = JSON.parse(localStorage.getItem("cart")) || [];
            const subtotal = cart.reduce((acc, item) => acc + item.selling_price * item.quantity, 0);
            const shipping = 9.99;
            const tax = subtotal * 0.03;
            const total = subtotal + shipping + tax;

            document.getElementById("subtotal").textContent = subtotal.toFixed(2);
            document.getElementById("shipping").textContent = shipping.toFixed(2);
            document.getElementById("tax").textContent = tax.toFixed(2);
            document.getElementById("total").textContent = total.toFixed(2);
        }

        function placeOrder() {
            localStorage.removeItem("cart");
            window.location.href = "thankyou.html";
        }

        document.addEventListener("DOMContentLoaded", calculateSummary);
    </script>
</body>
</html>
